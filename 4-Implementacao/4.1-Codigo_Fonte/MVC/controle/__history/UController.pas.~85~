unit UController;

interface

uses
  Classes, SysUtils, Forms, Windows, DB, DBClient, DBXJSON, IWSystem,
  Rtti, Atributos, StrUtils, TypInfo, Generics.Collections, Biblioteca,
  Vcl.Dialogs,UGenericVO,UDAO;

type
  TController<T: TGenericVO> = class
  private
  public
    function Inserir(Objeto:TGenericVO) : integer;
    function Consultar(condicao : String):TObjectList<TGenericVO>;
    function ConsultarPorId(id:integer):TGenericVO; virtual;
    function Alterar(Objeto: TGenericVO):boolean;
    function Excluir(Objeto: TGenericVO):boolean;


  protected
  end;

implementation

function TController.Inserir(Objeto: TGenericVO): integer;
begin
  Result := TDAO.Inserir(Objeto);
end;

function TController<TGenericVO>.Alterar(Objeto: TGenericVO):boolean;
begin
  Result := TDAO.Alterar(Objeto);
end;

function TController<TGenericVO>.Consultar(condicao: String): TObjectList<T>;
begin
  result := TDAO.Consultar<TGenericVO>(condicao,0,true);
end;

function TController<TGenericVO>.ConsultarPorId(id: integer): T;
begin
  result := TDAO.ConsultarPorId<TGenericVO>(id);
end;

function TController<TGenericVO>.Excluir(Objeto: TGenericVO):boolean;
begin
  Result := TDAO.Excluir(Objeto);
end;





end.
