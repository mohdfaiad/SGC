unit UCidadeVO;

interface

uses Atributos, Classes, Constantes, Generics.Collections, SysUtils, UGenericVO,UPaisVO, UEstadoVO;

type
  [TEntity]
  [TTable('Cidade')]
  TCidadeVO = class(TGenericVO)

  private
    FIdCidade: Integer;
    FnomeCidade: String;
    FIdEstado : Integer;
    FIdPais : Integer;

    // Atributos Transientes
    FNomeEstado : String;

  public

    PaisVO: TPAISVO;
    EstadoVO : TESTADOVO;

    [TId('idCidade')]
    [TGeneratedValue(sAuto)]
    property idCidade: Integer  read FIdCidade write FIdCidade;
    [TColumn('nome','Cidade',250,[ldGrid], False)]
    property NomeCidade: String  read FnomeCidade write FnomeCidade;

    [TColumn('idEstado','idEstado',0,[ldLookup,ldComboBox], False)]
    property idEstado: integer  read FIdEstado write FIdEstado;

    [TColumn('idPais','idPais',0,[ldLookup,ldComboBox], False)]
    property idPais: integer  read FIdPais write FIdPais;

    [TColumn('NOMEESTADO','Estado',0,[ldGrid], True, 'Estado', 'idEstado', 'idEstado')]
    property NomeEstado: string  read FNomeEstado write FNomeEstado;



    function ValidarCamposObrigatorios:boolean;


  end;

implementation




{ TCidadeVO }

function TCidadeVO.ValidarCamposObrigatorios: boolean;
begin
Result := true;
  if (Self.FnomeCidade = '') then
  begin
    raise Exception.Create('O campo Nome é obrigatório!');
    Result := false;
  end
end;


end.
